# Lection 4
==========================

## Создание базы данных в PostgreSQL. Создание таблиц. Типы данных.
---------------------

### Структура базы данных
* База данных (database)
 * Таблицы (tables)
 * Хранимые процедуры/функции (stored procedures and functions)
 * Представления (views)
 * Триггеры (triggers)
 * Индексы (indexes)
 
**Прежде всего необходимо создать базу данных**

```SQL
CREATE DATABASE db_name;
```

**Пример:**
```SQL
CREATE DATABASE university;
```

==========================

### Создание таблиц

```SQL
CREATE TABLE tbl_name(
  column_name data_type column_constraints
  |table_constraints [,]);
```

где

`column_name` - имя столбца

`data_type` - тип данных столбца

`column_constraints` - ограничения, накладываемые на столбец

`table_constraints` - ограничения, накладываемые на таблицу

`[,]` - можно перечислять несколько столбцов и/или ограничений на таблицу через запятую


**Пример:**
```SQL
CREATE TABLE student(
  id INTEGER,
  name VARCHAR,
  birthday DATE);
```


### Подробнее о типах данных
#### [Исчерпывающая информация на английском](http://www.postgresql.org/docs/9.4/static/datatype.html)
---------------------

[Числовые типы](http://www.postgresql.org/docs/9.4/static/datatype-numeric.html)    |Описание
-----------------|---------
smallint         | целое, -32768 to +32767
integer          | целое, -2147483648 to +2147483647
bigint           | целое, -9223372036854775808 to +9223372036854775807
numeric          | переменной длины, до 131072 разрядов перед запятой; до 16383 после
real             | вещественное, точность 6 десятичных разрядов
double precision | вещественное, точность 15 десятичных разрядов
serial           | целое с автоувеличением, от 1 до 2147483647
bigserial        | целое с автоувеличением, от 1 до 9223372036854775807

==========================

[Строковые типы](http://www.postgresql.org/docs/9.4/static/datatype-character.html)   |Описание
-----------------|---------
varchar(n)       | переменной длины, n - максимальное число символов
char(n)          | фиксированной длины. Меньшие строки дополняются пробелами
text             | неограниченной длины, примерно до 1Gb

==========================

[Типы даты и времени](http://www.postgresql.org/docs/9.4/static/datatype-datetime.html)   |Описание
-----------------|---------
date             | дата. Пример: '2015-09-23'
time             | время. Пример: '23:57:21'
timestamp        | дата и время. Пример: '2015-09-23 23:57:21'

==========================

[Логический тип](http://www.postgresql.org/docs/9.4/static/datatype-boolean.html)   |Описание
-----------------|---------
boolean          | true или false


## О подходах к проектированию баз данных
Бизнес-логика в БД |Бизнес-логика не в БД
-------------------|---------
Взаимодействие через хранимые процедуры    | Взаимодействие через ORM 
Предполагается создание новых типов данных | Достаточно встроенных типов данных
Используется в корпоративных системах      | Используется в веб-приложениях